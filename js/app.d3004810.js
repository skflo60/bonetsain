(function(t){function e(e){for(var a,r,i=e[0],u=e[1],s=e[2],l=0,f=[];l<i.length;l++)r=i[l],o[r]&&f.push(o[r][0]),o[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);d&&d(e);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(c.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},r={app:0},o={app:0},c=[];function i(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-12e7eac2":"7ce6057b","chunk-2d0d32d2":"90a62068","chunk-2d2086b7":"3136ab74","chunk-571987fc":"7f8770a0","chunk-58b3f940":"45d1605b","chunk-71e3bc7d":"8bb3d31d","chunk-efdf56a6":"4faeeeac"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-571987fc":1,"chunk-58b3f940":1,"chunk-71e3bc7d":1,"chunk-efdf56a6":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-12e7eac2":"31d6cfe0","chunk-2d0d32d2":"31d6cfe0","chunk-2d2086b7":"31d6cfe0","chunk-571987fc":"fcc465cf","chunk-58b3f940":"2803989a","chunk-71e3bc7d":"fcc465cf","chunk-efdf56a6":"fcc465cf"}[t]+".css",o=u.p+a,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=c[i],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===a||l===o))return e()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){s=f[i],l=s.getAttribute("data-href");if(l===a||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var a=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.request=a,delete r[t],d.parentNode.removeChild(d),n(c)},d.href=o;var g=document.getElementsByTagName("head")[0];g.appendChild(d)}).then(function(){r[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(t),s=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");c.type=a,c.request=r,n[1](c)}o[t]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var d=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"16a4":function(t,e,n){"use strict";var a=n("7424"),r="/categories";e["a"]={getCategories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])().get("".concat(r),{params:t})},getCategoriesByTitle:function(t){return Object(a["a"])().get("".concat(r,"/").concat(t))},getCategoriesByPage:function(t,e){return Object(a["a"])().get("".concat(r,"/").concat(t,"?page=").concat(e))}}},"1d9f":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block box-shadow bg-white rounded md:mr-4"},t._l(t.categories,function(e,a){return n("div",{key:e._id,staticClass:"block"},[n("router-link",{staticClass:"block no-underline p-3 text-grey-dark capitalize",class:{"bg-blue-dark text-white":t.currentCategory==e.title,"border-t border-grey-lighter":0===a},attrs:{tag:"a",to:{name:"category",params:{category:e.title}}}},[t._v("\n      "+t._s(e.title)+"\n    ")])],1)}),0)},r=[],o=n("cebc"),c=n("2f62"),i={data:function(){return{currentCategory:""}},watch:{$route:function(){this.getCurrentCategory()}},computed:Object(o["a"])({},Object(c["d"])({categories:function(t){return t.category.categories}})),created:function(){this.getCurrentCategory()},methods:{getCurrentCategory:function(){this.$route.params.category?this.currentCategory=this.$route.params.category:this.currentCategory=""}}},u=i,s=n("2877"),l=Object(s["a"])(u,a,r,!1,null,"01110f93",null);e["a"]=l.exports},"34ba":function(t,e,n){"use strict";var a=n("7dbb"),r=n.n(a);r.a},"565d":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("8c4f"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1)},c=[],i=n("cebc"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-green mb-4"},[n("div",{staticClass:"container max-w-xl mx-auto px-4"},[n("nav",{staticClass:"navbar flex"},[n("div",{staticClass:"flex"},[n("router-link",{staticClass:"block no-underline text-white mt-4",attrs:{tag:"a",to:{name:"home"}}},[t._v("\n          Bon & Sain\n        ")])],1),n("div",{staticClass:"flex-grow"},[n("div",{staticClass:"flex-grow text-right"},[t.loggedIn?t._e():n("div",{staticClass:"relative inline-block"},[n("router-link",{staticClass:"nav-item inline-block no-underline p-3 text-white capitalize hover:bg-blue",attrs:{tag:"a",to:{name:"login"}}},[t._v("\n              Connexion\n            ")])],1),t.loggedIn?t._e():n("div",{staticClass:"relative inline-block"},[n("router-link",{staticClass:"nav-item inline-block no-underline p-3 text-white capitalize hover:bg-blue",attrs:{tag:"a",to:{name:"signup"}}},[t._v("\n              Inscription\n            ")])],1),t.loggedIn?n("div",{staticClass:"relative inline-block"},[n("router-link",{staticClass:"nav-item inline-block no-underline p-3 text-white capitalize hover:bg-blue",attrs:{tag:"a",to:{name:"dashboard"}}},[t._v("\n              Mes commandes\n            ")])],1):t._e(),t.loggedIn?n("div",{staticClass:"relative inline-block"},[n("a",{staticClass:"nav-item inline-block no-underline p-3 text-white capitalize hover:bg-blue",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("\n              Logout\n            ")])]):t._e(),n("div",{staticClass:"relative inline-block"},[n("router-link",{staticClass:"inline-block no-underline px-3 py-2 text-white capitalize",attrs:{tag:"a",to:{name:"checkout"}}},[n("span",{staticClass:"align-middle inline-block"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"}},[n("path",{attrs:{d:"M10 19.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm3.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm6.305-15l-3.432 12H5.945L3.008 8H14.17l-1.412 5h2.078l1.977-7H0l4.615 11h13.239l3.474-12h1.929L24 3h-4.195z",fill:"#ffffff"}})])]),t._v("\n              ("),n("span",{staticClass:"badge badge-light"},[t._v(t._s(t.cart.length))]),t._v(")\n            ")])],1)])])])])])},s=[],l=n("2f62"),f=n("1d9f"),d={components:{Categories:f["a"]},data:function(){return{isShowDropdown:!1}},computed:Object(i["a"])({},Object(l["c"])({loggedIn:"isAuthenticated",cart:"getCart"})),methods:Object(i["a"])({},Object(l["b"])(["logOut"]),{logout:function(){this.logOut(),localStorage.removeItem("loggedIn"),this.$router.push("home")}})},g=d,h=(n("34ba"),n("2877")),p=Object(h["a"])(g,u,s,!1,null,null,null),b=p.exports,m={name:"app",components:{Navbar:b},created:function(){this.getAllCategories({page:0,pagesize:8})},methods:Object(i["a"])({},Object(l["b"])(["getAllCategories"]))},v=m,C=(n("034f"),Object(h["a"])(v,o,c,!1,null,null,null)),k=C.exports,y=(n("7f7f"),n("323e")),_=n.n(y),O=n("795b"),w=n.n(O),E=n("93d6"),x={state:{loggedIn:localStorage.getItem("loggedIn")||!1},getters:{isAuthenticated:function(t){return t.loggedIn}},mutations:{LOGIN:function(t){t.loggedIn=!0},LOGOUT:function(t){t.loggedIn=!1}},actions:{logIn:function(t,e){var n=t.commit;return new w.a(function(t,a){E["a"].login(e).then(function(e){e.data.success&&(localStorage.setItem("loggedIn",!0),n("LOGIN")),t(e.data)}).catch(function(t){a(t)})})},logOut:function(t){var e=t.commit;e("LOGOUT")}}},A=n("fa7d"),j={state:{cart:JSON.parse(localStorage.getItem("cart"))||[]},getters:{getCart:function(t){return t.cart},getCartTotal:function(t){var e=0;return t.cart.map(function(t){e+=t.subtotal}),e}},mutations:{ADD_CART:function(t,e){t.cart.push(e)},INCREMENT_CART:function(t,e){e.qty++,e.subtotal=e.price*e.qty},DECREMENT_CART:function(t,e){e.qty--,e.subtotal=e.price*e.qty},CHANGE_CART:function(t,e){e.subtotal=e.price*e.qty}},actions:{addCart:function(t,e){var n=t.commit;n("ADD_CART",e)},incrementCart:function(t,e){var n=t.state,a=t.commit,r=Object(A["a"])(n.cart,e.id);a("INCREMENT_CART",r)},decrementCart:function(t,e){var n=t.state,a=t.commit,r=Object(A["a"])(n.cart,e.id);a("DECREMENT_CART",r)},changeCart:function(t,e){var n=t.state,a=t.commit,r=Object(A["a"])(n.cart,e.id);a("CHANGE_CART",r)}}},T=n("16a4"),I={state:{categories:[]},mutations:{GET_ALL_CATEGORIES:function(t,e){t.categories=e}},actions:{getAllCategories:function(t){var e=t.commit;T["a"].getCategories().then(function(t){var n=t.data;e("GET_ALL_CATEGORIES",n.categories)})}}};a["a"].use(l["a"]);var N=new l["a"].Store({modules:{auth:x,cart:j,category:I}}),S=N,R=function(t,e,n){S.getters.isAuthenticated?n("/home"):n()},L=[{path:"/",name:"home",component:function(){return n.e("chunk-571987fc").then(n.bind(null,"bb51"))}},{path:"/product/:id",name:"product",component:function(){return n.e("chunk-71e3bc7d").then(n.bind(null,"5f47"))},props:!0},{path:"/category/:category",name:"category",component:function(){return n.e("chunk-efdf56a6").then(n.bind(null,"b54c"))},props:!0},{path:"/checkout",name:"checkout",component:function(){return n.e("chunk-12e7eac2").then(n.bind(null,"da3a"))}},{path:"/login",name:"login",component:function(){return n.e("chunk-2d2086b7").then(n.bind(null,"a55b"))},beforeEnter:R},{path:"/signup",name:"signup",component:function(){return n.e("chunk-58b3f940").then(n.bind(null,"34c3"))},beforeEnter:R},{path:"/dashboard",name:"dashboard",meta:{requiresAuth:!0},component:function(){return n.e("chunk-2d0d32d2").then(n.bind(null,"5c3a"))}},{path:"*",redirect:{name:"home"}}],P=function(t,e,n){return n||(t.hash?{selector:t.hash}:{x:0,y:0})},q=new r["a"]({routes:L,scrollBehavior:P,mode:"history"});q.beforeEach(function(t,e,n){return t.meta.requiresAuth?S.getters.isAuthenticated?void n():n({path:"/login",query:{redirect:t.fullPath}}):n()}),q.beforeResolve(function(t,e,n){t.name&&_.a.start(),n()}),q.afterEach(function(){_.a.done()});var M=q,z=(n("a481"),n("59ad")),D=n.n(z),G=/(\d{3})(?=\d)/g;function B(t,e,n){if(t=D()(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"â‚¬",n=null!=n?n:2;var a=Math.abs(t).toFixed(n),r=n?a.slice(0,-1-n):a,o=r.length%3,c=o>0?r.slice(0,o)+(r.length>3?",":""):"",i=n?a.slice(-1-n):"",u=t<0?"-":"";return u+e+c+r.slice(o).replace(G,"$1,")+i}n("565d");a["a"].config.productionTip=!1,a["a"].use(r["a"]),a["a"].filter("currency",B),new a["a"]({router:M,store:S,render:function(t){return t(k)}}).$mount("#app")},"64a9":function(t,e,n){},7424:function(t,e,n){"use strict";var a=n("795b"),r=n.n(a),o=n("bc3a"),c=n.n(o),i=n("323e"),u=n.n(i);e["a"]=function(){var t=c.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BACKEND||"https://biosain-api.herokuapp.com/"});return t.interceptors.request.use(function(t){return u.a.start(),t},function(t){return u.a.done(),r.a.reject(t)}),t.interceptors.response.use(function(t){return u.a.done(),t}),t}},"7dbb":function(t,e,n){},"93d6":function(t,e,n){"use strict";var a=n("7424"),r="/users";e["a"]={login:function(t){return Object(a["a"])().post("".concat(r,"/login"),t)},signup:function(t){return Object(a["a"])().post("".concat(r,"/signup"),t)}}},fa7d:function(t,e,n){"use strict";n.d(e,"a",function(){return a});n("7514");function a(t,e){return t.find(function(t){return t.id===e})}}});
//# sourceMappingURL=app.d3004810.js.map