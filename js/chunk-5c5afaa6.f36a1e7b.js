(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c5afaa6"],{"0a9f":function(t,a,e){"use strict";var n=e("a54d"),r=e.n(n);r.a},1799:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.totalPages>1?e("div",{staticClass:"mb-4 mt-6"},[e("div",{staticClass:"flex align-center justify-center"},[e("div",{staticClass:"flex"},[t.isFirst?e("PaginationItem",{staticClass:"rounded rounded-r-none",on:{"hanlder-click":function(a){return t.handlerPage(t._currentPage-1)}}},[t._v("\n        Previous\n      ")]):t._e()],1),e("div",{staticClass:"flex"},t._l(t._pages,function(a){return e("PaginationItem",{key:a,class:{"cursor-default text-white pointer-events-none bg-blue-dark":t._currentPage===a},on:{"hanlder-click":function(e){return t.handlerPage(a)}}},[t._v("\n        "+t._s(a)+"\n      ")])}),1),e("div",{staticClass:"flex"},[t.isLast?e("PaginationItem",{on:{"hanlder-click":function(a){return t.handlerPage(t._currentPage+1)}}},[t._v("\n        Next\n      ")]):t._e()],1)])]):t._e()},r=[],i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"inline-block no-underline text-grey-darker bg-white p-2 px-3 shadow-md",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.handlerClick(a)}}},[t._t("default")],2)},s=[],c={methods:{handlerClick:function(){this.$emit("hanlder-click")}}},o=c,u=e("2877"),l=Object(u["a"])(o,i,s,!1,null,null,null),d=l.exports,g={props:["currentPage","pageLimit","pages"],components:{PaginationItem:d},data:function(){return{isHasTotalPages:!1,isFirst:!1,isLast:!1,_pages:[]}},computed:{_currentPage:function(){return this.currentPage},_pageLimit:function(){return this.pageLimit||8},totalPages:function(){return this.pages&&!this.isHasTotalPages&&(this.isHasTotalPages=!0,this.pagination(1,this.pages)),this.pages}},methods:{handlerPage:function(t){this.$emit("handler-page",t),this.pagination(t,this.totalPages)},pagination:function(t,a){var e,n;this._pages=[];n=e=Math.min(t,a);for(var r=1;r<this._pageLimit&&r<a;)n>1&&(n--,r++),r<this._pageLimit&&e<a&&(e++,r++);for(var i=n;i<=e;i++)this._pages.push(i);this.isFirst=-1===this._pages.indexOf(1),this.isLast=-1===this._pages.indexOf(a)}}},p=g,f=Object(u["a"])(p,n,r,!1,null,"2778d1cf",null);a["a"]=f.exports},"77ca":function(t,a,e){"use strict";e("7f7f");var n=e("f499"),r=e.n(n),i=e("cebc"),s=e("2f62"),c=e("fa7d");a["a"]={methods:Object(i["a"])({},Object(s["b"])(["addCart","incrementCart"]),{addToCart:function(t){var a=JSON.parse(localStorage.getItem("cart"))||[];if(a.length){var e=Object(c["a"])(a,t._id);e?(this.incrementCart(e),localStorage.setItem("cart",r()(a))):this.updateToCart(a,t)}else this.updateToCart(a,t)},updateToCart:function(t,a){var e={id:a._id,image:a.image,name:a.name,price:a.price,subtotal:1*a.price,qty:1};t.push(e),this.addCart(e),localStorage.setItem("cart",r()(t))}})}},a21f:function(t,a,e){var n=e("584a"),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},a54d:function(t,a,e){},b54c:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container max-w-xl mx-auto mb-4 px-4"},[e("div",{staticClass:"flex flex-wrap"},[e("div",{staticClass:"w-full"},[e("div",{staticClass:"cards"},t._l(t.products,function(t){return e("div",{key:t._id,staticClass:"shadow-lg rounded-lg overflow-hidden bg-white"},[e("Product",{attrs:{product:t}})],1)}),0),e("Pagination",{attrs:{currentPage:t.currentPage,pages:t.pages,pageLimit:"5"},on:{"handler-page":t.clickHandlerPage}})],1)])])},r=[],i=e("16a4"),s=e("be6f"),c=e("1799"),o=e("1d9f"),u={props:["category"],components:{Product:s["a"],Pagination:c["a"],Categories:o["a"]},data:function(){return{products:[],currentPage:0,pages:0}},created:function(){this.fetch()},watch:{$route:function(t,a){a.params.category!==t.params.category&&this.fetch()}},methods:{fetch:function(){var t=this;i["a"].getCategoriesByTitle(this.category).then(function(a){var e=a.data;t.products=e.products,t.currentPage=e.currentPage,t.pages=e.pages})},clickHandlerPage:function(t){var a=this;i["a"].getCategoriesByPage(this.category,t).then(function(t){var e=t.data;a.products=e.products,a.currentPage=e.currentPage,a.pages=e.pages})}}},l=u,d=e("2877"),g=Object(d["a"])(l,n,r,!1,null,"1b34f44d",null);a["default"]=g.exports},be6f:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"product"},[e("router-link",{staticClass:"block min-height",attrs:{tag:"a",to:{name:"product",params:{id:t.product._id}}}},[e("img",{attrs:{src:t.product.image,alt:t.product.name}})]),e("div",{staticClass:"p-3"},[e("h3",{staticClass:"text-lg mb-1 leading-tight font-medium"},[t._v(t._s(t.product.name))]),e("p",{staticClass:"font-semibold text-md mb-2"},[t._v(t._s(t._f("currency")(t.product.price)))]),e("p",{staticClass:"text-sm text-grey-darker mb-2"},[t._v(t._s(t.product.description.substring(0,50)))]),e("button",{staticClass:"block w-full border shadow p-2 rounded mt-2 hover:bg-blue-dark hover:text-white",on:{click:function(a){return t.addToCart(t.product)}}},[t._v("\n      Ajouter au panier\n    ")])])],1)},r=[],i=e("77ca"),s={props:["product"],mixins:[i["a"]]},c=s,o=(e("0a9f"),e("2877")),u=Object(o["a"])(c,n,r,!1,null,"292d7737",null);a["a"]=u.exports},f499:function(t,a,e){t.exports=e("a21f")}}]);
//# sourceMappingURL=chunk-5c5afaa6.f36a1e7b.js.map