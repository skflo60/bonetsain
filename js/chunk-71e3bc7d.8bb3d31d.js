(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71e3bc7d"],{"1e35":function(t,a,e){"use strict";var r=e("7424"),c="/products";a["a"]={getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])().get("".concat(c),{params:t})},getProductsById:function(t){return Object(r["a"])().get("".concat(c,"/").concat(t))},getProductsRelatedById:function(t){return Object(r["a"])().get("".concat(c,"/").concat(t,"/related"))},getProductsByPage:function(t){return Object(r["a"])().get("".concat(c,"?page=").concat(t))}}},"5f47":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container max-w-xl mx-auto mb-4 px-4"},[e("div",{staticClass:"flex bg-white p-2 shadow"},[e("div",{staticClass:"w-1/2"},[e("img",{staticClass:"img-fluid",attrs:{src:t.currentProduct.image,alt:t.currentProduct.name}})]),e("div",{staticClass:"w-1/2 px-2"},[e("h2",{staticClass:"text-2xl mb-2 leading-tight font-medium"},[t._v(t._s(t.currentProduct.name))]),e("p",{staticClass:"text-lg font-semibold mb-3"},[t._v(t._s(t._f("currency")(t.currentProduct.price)))]),e("p",{staticClass:"text-sm mb-3"},[t._v("Category: "),e("span",{staticClass:"text-capitalize"},[t._v(t._s(t.currentProduct.category))])]),e("p",{staticClass:"text-base text-grey-darker mb-5"},[t._v("\n        "+t._s(t.currentProduct.description)+"\n      ")]),e("button",{staticClass:"block w-full border shadow p-2 rounded hover:bg-blue-dark hover:text-white",on:{click:function(a){return t.addToCart(t.currentProduct)}}},[t._v("\n        Add To Cart\n      ")])])]),e("div",{staticClass:"mt-6"},[e("h3",{staticClass:"text-2xl mb-6"},[t._v("You may also like")]),e("div",{staticClass:"cards"},t._l(t.products,function(t){return e("div",{key:t._id,staticClass:"flex shadow-lg rounded-lg overflow-hidden bg-white"},[e("Product",{attrs:{product:t}})],1)}),0)])])},c=[],s=e("1e35"),n=e("77ca"),i=e("be6f"),o={props:["id"],components:{Product:i["a"]},mixins:[n["a"]],data:function(){return{products:[],currentProduct:{}}},watch:{$route:function(t,a){a.params.id!==t.params.id&&this.fetch()}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;s["a"].getProductsById(this.id).then(function(a){t.currentProduct=a.data.product}),s["a"].getProductsRelatedById(this.id).then(function(a){t.products=a.data.products})}}},d=o,u=e("2877"),l=Object(u["a"])(d,r,c,!1,null,null,null);a["default"]=l.exports},"77ca":function(t,a,e){"use strict";e("7f7f");var r=e("f499"),c=e.n(r),s=e("cebc"),n=e("2f62"),i=e("fa7d");a["a"]={methods:Object(s["a"])({},Object(n["b"])(["addCart","incrementCart"]),{addToCart:function(t){var a=JSON.parse(localStorage.getItem("cart"))||[];if(a.length){var e=Object(i["a"])(a,t._id);e?(this.incrementCart(e),localStorage.setItem("cart",c()(a))):this.updateToCart(a,t)}else this.updateToCart(a,t)},updateToCart:function(t,a){var e={id:a._id,image:a.image,name:a.name,price:a.price,subtotal:1*a.price,qty:1};t.push(e),this.addCart(e),localStorage.setItem("cart",c()(t))}})}},"8c49":function(t,a,e){"use strict";var r=e("e18b"),c=e.n(r);c.a},a21f:function(t,a,e){var r=e("584a"),c=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return c.stringify.apply(c,arguments)}},be6f:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"product"},[e("router-link",{staticClass:"block min-height",attrs:{tag:"a",to:{name:"product",params:{id:t.product._id}}}},[e("img",{attrs:{src:t.product.image,alt:t.product.name}})]),e("div",{staticClass:"p-3"},[e("h3",{staticClass:"text-lg mb-1 leading-tight font-medium"},[t._v(t._s(t.product.name))]),e("p",{staticClass:"font-semibold text-md mb-2"},[t._v(t._s(t._f("currency")(t.product.price)))]),e("p",{staticClass:"text-sm text-grey-darker mb-2"},[t._v(t._s(t.product.description.substring(0,50)))]),e("button",{staticClass:"block w-full border shadow p-2 rounded mt-2 hover:bg-blue-dark hover:text-white",on:{click:function(a){return t.addToCart(t.product)}}},[t._v("\n      Ajouter au panier\n    ")])])],1)},c=[],s=e("77ca"),n={props:["product"],mixins:[s["a"]]},i=n,o=(e("8c49"),e("2877")),d=Object(o["a"])(i,r,c,!1,null,"56d23dd4",null);a["a"]=d.exports},e18b:function(t,a,e){},f499:function(t,a,e){t.exports=e("a21f")}}]);
//# sourceMappingURL=chunk-71e3bc7d.8bb3d31d.js.map